<% unless signed_in? and current_user.likes? @article %>
  <%= link_to "Like this article!", article_likes_path(@article), method: :post %>
<% else %>
  <%= link_to "Unlike this article!", article_like_path(@article, current_user.article_like(@article)), method: :delete %>
<% end %>